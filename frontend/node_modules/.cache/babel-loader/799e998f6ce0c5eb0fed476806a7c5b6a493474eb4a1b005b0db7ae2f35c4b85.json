{"ast":null,"code":"import{useContext}from'react';import{useEffect}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from\"./PopupWithForm\";import useForm from'../hooks/useForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){let{isOpen,onClose,onUpdateUser,isLoading}=_ref;const currentUser=useContext(CurrentUserContext);const{values,handleChange,setValues}=useForm({name:'',about:''});function handleSubmit(e){e.preventDefault();onUpdateUser(values);}useEffect(()=>{setValues({name:currentUser.name||'',about:currentUser.about||''});},[currentUser,isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",containerName:\"container\",textBtn:isLoading?'Сохранение...':'Сохранить',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,onUpdateUser:onUpdateUser,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name-input\",name:\"name\",value:values.name,onChange:handleChange,className:\"popup__input popup__input_type_name\",placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"name-input-error popup__error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"job-input\",name:\"about\",value:values.about,onChange:handleChange,className:\"popup__input popup__input_type_job\",placeholder:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"job-input-error popup__error\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["useContext","useEffect","CurrentUserContext","PopupWithForm","useForm","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","isLoading","currentUser","values","handleChange","setValues","name","about","handleSubmit","e","preventDefault","title","containerName","textBtn","onSubmit","children","type","id","value","onChange","className","placeholder","minLength","maxLength","required"],"sources":["C:/Users/enver/Desktop/react-mest/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext } from 'react';\nimport { useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from \"./PopupWithForm\";\nimport useForm from '../hooks/useForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const { values, handleChange, setValues } = useForm({ name: '', about: '' });\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    \n    onUpdateUser(values);\n  }\n\n  useEffect(() => {\n    setValues({ name:currentUser.name || '', about:currentUser.about || '' });\n  }, [currentUser, isOpen]);\n  \n  return (\n    <PopupWithForm \n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      containerName=\"container\"\n      textBtn={isLoading ? 'Сохранение...' : 'Сохранить'}      \n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onUpdateUser={onUpdateUser}>\n        <input type=\"text\" id=\"name-input\" name=\"name\" value={values.name} onChange={handleChange} className=\"popup__input popup__input_type_name\" placeholder=\"Имя профиля\" minLength=\"2\" maxLength=\"40\" required/>\n        <span className=\"name-input-error popup__error\" />\n        <input type=\"text\" id=\"job-input\" name=\"about\" value={values.about} onChange={handleChange} className=\"popup__input popup__input_type_job\" placeholder=\"Описание профиля\" minLength=\"2\" maxLength=\"200\" required/>\n        <span className=\"job-input-error popup__error\" />\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,OAAO,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAA+C,IAA9C,CAAEC,MAAM,CAAEC,OAAO,CAAEC,YAAY,CAAEC,SAAU,CAAC,CAAAJ,IAAA,CAEpE,KAAM,CAAAK,WAAW,CAAGf,UAAU,CAACE,kBAAkB,CAAC,CAElD,KAAM,CAAEc,MAAM,CAAEC,YAAY,CAAEC,SAAU,CAAC,CAAGd,OAAO,CAAC,CAAEe,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAG,CAAC,CAAC,CAE5E,QAAS,CAAAC,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElBV,YAAY,CAACG,MAAM,CAAC,CACtB,CAEAf,SAAS,CAAC,IAAM,CACdiB,SAAS,CAAC,CAAEC,IAAI,CAACJ,WAAW,CAACI,IAAI,EAAI,EAAE,CAAEC,KAAK,CAACL,WAAW,CAACK,KAAK,EAAI,EAAG,CAAC,CAAC,CAC3E,CAAC,CAAE,CAACL,WAAW,CAAEJ,MAAM,CAAC,CAAC,CAEzB,mBACEH,KAAA,CAACL,aAAa,EACZgB,IAAI,CAAC,SAAS,CACdK,KAAK,CAAC,2HAAuB,CAC7BC,aAAa,CAAC,WAAW,CACzBC,OAAO,CAAEZ,SAAS,CAAG,eAAe,CAAG,WAAY,CACnDH,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBe,QAAQ,CAAEN,YAAa,CACvBR,YAAY,CAAEA,YAAa,CAAAe,QAAA,eACzBtB,IAAA,UAAOuB,IAAI,CAAC,MAAM,CAACC,EAAE,CAAC,YAAY,CAACX,IAAI,CAAC,MAAM,CAACY,KAAK,CAAEf,MAAM,CAACG,IAAK,CAACa,QAAQ,CAAEf,YAAa,CAACgB,SAAS,CAAC,qCAAqC,CAACC,WAAW,CAAC,+DAAa,CAACC,SAAS,CAAC,GAAG,CAACC,SAAS,CAAC,IAAI,CAACC,QAAQ,MAAC,CAAC,cAC5M/B,IAAA,SAAM2B,SAAS,CAAC,+BAA+B,CAAE,CAAC,cAClD3B,IAAA,UAAOuB,IAAI,CAAC,MAAM,CAACC,EAAE,CAAC,WAAW,CAACX,IAAI,CAAC,OAAO,CAACY,KAAK,CAAEf,MAAM,CAACI,KAAM,CAACY,QAAQ,CAAEf,YAAa,CAACgB,SAAS,CAAC,oCAAoC,CAACC,WAAW,CAAC,6FAAkB,CAACC,SAAS,CAAC,GAAG,CAACC,SAAS,CAAC,KAAK,CAACC,QAAQ,MAAC,CAAC,cAClN/B,IAAA,SAAM2B,SAAS,CAAC,8BAA8B,CAAE,CAAC,EACtC,CAAC,CAEpB,CAEA,cAAe,CAAAxB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
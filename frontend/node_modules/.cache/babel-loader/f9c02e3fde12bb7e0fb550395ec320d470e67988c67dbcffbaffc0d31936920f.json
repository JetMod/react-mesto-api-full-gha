{"ast":null,"code":"class Api{constructor(_ref){let{baseUrl}=_ref;this._baseUrl=baseUrl;}loadUserInfo(){const token=localStorage.getItem('jwt');return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'GET',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}patchUserInfo(_ref2){let{name,about,avatar,_id}=_ref2;const token=localStorage.getItem('jwt');return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({name,about,avatar,_id})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}getInitialCards(){const token=localStorage.getItem('jwt');return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'GET',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}addCard(_ref3){let{name,link}=_ref3;const token=localStorage.getItem('jwt');return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({name,link})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}changeLikeCardStatus(cardId,like){const token=localStorage.getItem('jwt');return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:like?'PUT':'DELETE',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}deleteCard(cardId){const token=localStorage.getItem('jwt');return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}patchAvatar(_ref4){let{avatar}=_ref4;const token=localStorage.getItem('jwt');return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({avatar})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));});}}const api=new Api({//baseUrl: 'http://localhost:3000',\nbaseUrl:'https://api.zhukirina.nomoredomainsmonster.ru'});export default api;","map":{"version":3,"names":["Api","constructor","_ref","baseUrl","_baseUrl","loadUserInfo","token","localStorage","getItem","fetch","concat","method","headers","authorization","then","res","ok","json","Promise","reject","status","patchUserInfo","_ref2","name","about","avatar","_id","body","JSON","stringify","getInitialCards","addCard","_ref3","link","changeLikeCardStatus","cardId","like","deleteCard","patchAvatar","_ref4","api"],"sources":["C:/Users/enver/Desktop/react-mest/frontend/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl;\n  }\n\n  loadUserInfo() {\n    const token = localStorage.getItem('jwt');\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  patchUserInfo({ name, about, avatar, _id }) {\n    const token = localStorage.getItem('jwt');\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about,\n        avatar,\n        _id,\n      })\n    })\n    .then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  getInitialCards() {\n    const token = localStorage.getItem('jwt');\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  addCard({ name, link }) {\n    const token = localStorage.getItem('jwt');\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      })\n    })\n    .then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  changeLikeCardStatus(cardId, like) {\n    const token = localStorage.getItem('jwt');\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  deleteCard(cardId) {\n    const token = localStorage.getItem('jwt');\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  patchAvatar({ avatar }) {\n    const token = localStorage.getItem('jwt');\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar,\n      })\n    })\n    .then((res) => {\n      if(res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n}\n\nconst api = new Api({\n  //baseUrl: 'http://localhost:3000',\n  baseUrl: 'https://api.zhukirina.nomoredomainsmonster.ru',\n})\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}